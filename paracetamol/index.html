<!DOCTYPE html>
<html lang="th">
<head>
┬а ┬а <meta charset="UTF-8">
┬а ┬а <meta name="viewport" content="width=device-width, initial-scale=1.0">
┬а ┬а <title>Acetaminophen Poisoning Management Tool</title>
┬а ┬а <script src="https://cdn.tailwindcss.com"></script>
┬а ┬а <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
┬а ┬а <link rel="preconnect" href="https://fonts.googleapis.com">
┬а ┬а <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
┬а ┬а <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@400;500;700&display=swap" rel="stylesheet">
┬а ┬а <style>
┬а ┬а ┬а ┬а body {
┬а ┬а ┬а ┬а ┬а ┬а font-family: 'Sarabun', sans-serif;
┬а ┬а ┬а ┬а ┬а ┬а background-color: #e2e8f0;
┬а ┬а ┬а ┬а ┬а ┬а color: #1a202c;
┬а ┬а ┬а ┬а }
┬а ┬а ┬а ┬а .card {
┬а ┬а ┬а ┬а ┬а ┬а background-color: #f8fafc;
┬а ┬а ┬а ┬а ┬а ┬а border: 1px solid #cbd5e1;
┬а ┬а ┬а ┬а ┬а ┬а box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
┬а ┬а ┬а ┬а }
┬а ┬а ┬а ┬а .btn {
┬а ┬а ┬а ┬а ┬а ┬а background-color: #3b82f6;
┬а ┬а ┬а ┬а ┬а ┬а transition: background-color 0.3s;
┬а ┬а ┬а ┬а ┬а ┬а color: white;
┬а ┬а ┬а ┬а }
┬а ┬а ┬а ┬а .btn:hover {
┬а ┬а ┬а ┬а ┬а ┬а background-color: #2563eb;
┬а ┬а ┬а ┬а }
┬а ┬а ┬а ┬а input, select {
┬а ┬а ┬а ┬а ┬а ┬а background-color: #f0f4f8;
┬а ┬а ┬а ┬а ┬а ┬а border-color: #cbd5e1;
┬а ┬а ┬а ┬а ┬а ┬а color: #1a202c;
┬а ┬а ┬а ┬а }
┬а ┬а ┬а ┬а .result-box {
┬а ┬а ┬а ┬а ┬а ┬а background-color: #e0f2fe;
┬а ┬а ┬а ┬а ┬а ┬а border-left: 4px solid #38bdf8;
┬а ┬а ┬а ┬а }
┬а ┬а ┬а ┬а .header-text {
┬а ┬а ┬а ┬а ┬а ┬а color: #111827;
┬а ┬а ┬а ┬а }
┬а ┬а ┬а ┬а .label-text {
┬а ┬а ┬а ┬а ┬а ┬а color: #4a5568;
┬а ┬а ┬а ┬а }
┬а ┬а </style>
</head>
<body class="p-4 md:p-8">

┬а ┬а <div class="max-w-7xl mx-auto space-y-8">
┬а ┬а ┬а ┬а <header class="text-center">
┬а ┬а ┬а ┬а ┬а ┬а <h1 class="text-3xl md:text-4xl font-bold header-text">Acetaminophen Poisoning Management Tool</h1>
┬а ┬а ┬а ┬а ┬а ┬а <p class="text-lg text-gray-600 mt-2">р╕Бр╕ер╕╕р╣Ир╕бр╕Зр╕▓р╕Щр╣Ар╕зр╕Кр╕ир╕▓р╕кр╕Хр╕гр╣Мр╕Йр╕╕р╕Бр╣Ар╕Йр╕┤р╕Щ р╕гр╕Ю.р╕бр╕лр╕▓р╕гр╕▓р╕Кр╕Щр╕Др╕гр╕гр╕▓р╕Кр╕кр╕╡р╕бр╕▓</p>
┬а ┬а ┬а ┬а ┬а ┬а <p style="font-size:1em; color:#555;">
┬а ┬а Guidance from US & Canada Poison Centers
┬а ┬а (<a href="https://jamanetwork.com/journals/jamanetworkopen/fullarticle/2808062" target="_blank" style="color:#007acc; text-decoration:none;">
┬а ┬а ┬а JAMA Network Open, 2023
┬а ┬а </a>)
┬а ┬а ┬а ┬а </p>
┬а ┬а ┬а ┬а </header>

┬а ┬а ┬а ┬а <div class="card rounded-lg p-6">
┬а ┬а ┬а ┬а ┬а ┬а <h2 class="text-2xl font-bold mb-4 border-b border-gray-200 pb-2">1. р╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Бр╕ер╕░р╕Бр╕▓р╕гр╕Ыр╕гр╕░р╣Ар╕бр╕┤р╕Щр╕Ьр╕╣р╣Йр╕Ыр╣Ир╕зр╕в</h2>
┬а ┬а ┬а ┬а ┬а ┬а <div class="space-y-4">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <div>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <label for="scenario" class="block text-sm font-medium label-text mb-2">р╕кр╕Цр╕▓р╕Щр╕Бр╕▓р╕гр╕Ур╣Мр╕Ьр╕╣р╣Йр╕Ыр╣Ир╕зр╕в:</label>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <select id="scenario" class="w-full rounded-md p-2">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <option value="acute" selected>Acute Ingestion (р╕Чр╕гр╕▓р╕Ър╣Ар╕зр╕ер╕▓р╕Кр╕▒р╕Фр╣Ар╕Ир╕Щ, &lt; 24 р╕Кр╕б.)</option>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <option value="unknown">Unknown Time / Unreliable History</option>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <option value="repeated">Repeated Supratherapeutic Ingestion (RSI)</option>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <option value="extended">Extended-Release / Co-ingestion</option>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а </select>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а </div>

┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <div>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <label for="patient-age" class="block text-sm font-medium label-text mb-2">р╕нр╕▓р╕вр╕╕ (р╕Ыр╕╡):</label>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <input type="number" id="patient-age" placeholder="р╣Ар╕Кр╣Ир╕Щ 25" class="w-full rounded-md p-2">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а </div>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <div>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <label for="patient-weight" class="block text-sm font-medium label-text mb-2">р╕Щр╣Йр╕│р╕лр╕Щр╕▒р╕Б (kg):</label>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <input type="number" id="patient-weight-section1" placeholder="р╣Ар╕Кр╣Ир╕Щ 60" class="w-full rounded-md p-2">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а </div>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а </div>

┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <div>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <label for="initial-time" class="block text-sm font-medium label-text mb-2">р╣Ар╕зр╕ер╕▓р╕лр╕ер╕▒р╕Зр╣Др╕Фр╣Йр╕гр╕▒р╕Ър╕вр╕▓ (р╕Кр╕б.):</label>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <input type="number" id="initial-time" placeholder="р╣Ар╕Кр╣Ир╕Щ 2" class="w-full rounded-md p-2">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а </div>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <div>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <label for="dose-per-pill" class="block text-sm font-medium label-text mb-2">р╕Вр╕Щр╕▓р╕Фр╕вр╕▓р╕Хр╣Ир╕нр╣Ар╕бр╣Зр╕Ф (mg):</label>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <input type="number" id="dose-per-pill" placeholder="р╣Ар╕Кр╣Ир╕Щ 500" class="w-full rounded-md p-2">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а </div>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а </div>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а 
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <div>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <label for="number-of-pills" class="block text-sm font-medium label-text mb-2">р╕Ир╕│р╕Щр╕зр╕Щр╣Ар╕бр╣Зр╕Ф:</label>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <input type="number" id="number-of-pills" placeholder="р╣Ар╕Кр╣Ир╕Щ 20" class="w-full rounded-md p-2">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а </div>
┬а ┬а ┬а ┬а ┬а ┬а </div>

┬а ┬а ┬а ┬а ┬а ┬а <div id="assessment-result" class="result-box p-4 rounded-md mt-6">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <h3 class="font-bold text-lg mb-2">р╕Др╕│р╣Бр╕Щр╕░р╕Щр╕│р╣Ар╕Ър╕╖р╣Йр╕нр╕Зр╕Хр╣Йр╕Щ:</h3>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <p id="scenario-advice">р╣Ар╕ер╕╖р╕нр╕Бр╕кр╕Цр╕▓р╕Щр╕Бр╕▓р╕гр╕Ур╣Мр╣Ар╕Юр╕╖р╣Ир╕нр╕Фр╕╣р╕Др╕│р╣Бр╕Щр╕░р╕Щр╕│</p>
┬а ┬а ┬а ┬а ┬а ┬а </div>
┬а ┬а ┬а ┬а </div>

┬а ┬а ┬а ┬а <div class="card rounded-lg p-6">
┬а ┬а ┬а ┬а ┬а ┬а <h2 class="text-2xl font-bold mb-4 border-b border-gray-200 pb-2">2. р╕Бр╕▓р╕гр╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╣Ар╕Ър╕╖р╣Йр╕нр╕Зр╕Хр╣Йр╕Щ</h2>
┬а ┬а ┬а ┬а ┬а ┬а <div id="toxic-dose-result" class="mb-4"></div>
┬а ┬а ┬а ┬а ┬а ┬а <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <div>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <h3 class="font-bold text-lg text-blue-600 mb-2">р╣Ар╕Бр╕Ур╕Ср╣Мр╕Ыр╕гр╕░р╣Ар╕бр╕┤р╕Щр╕Вр╕Щр╕▓р╕Фр╕вр╕▓р╕Чр╕╡р╣Ир╣Ар╕Ыр╣Зр╕Щр╕Юр╕┤р╕й (Toxic Dose)</h3>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <div class="space-y-3">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <div>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <p class="font-semibold">Acute Ingestion (р╣Др╕Фр╣Йр╕гр╕▒р╕Ър╕вр╕▓р╕Др╕гр╕▒р╣Йр╕Зр╣Ар╕Фр╕╡р╕вр╕з)</p>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <ul class="list-disc list-inside text-sm label-text">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <li><strong>р╕Ьр╕╣р╣Йр╣Гр╕лр╕Нр╣И р╕лр╕гр╕╖р╕нр╣Ар╕Фр╣Зр╕Б тЙе 6 р╕Ыр╕╡:</strong> > 10 р╕Бр╕гр╕▒р╕б р╕лр╕гр╕╖р╕н > 200 mg/kg</li>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <li><strong>р╣Ар╕Фр╣Зр╕Б &lt; 6 р╕Ыр╕╡:</strong> > 200 mg/kg</li>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а </ul>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а </div>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <div>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <p class="font-semibold">Repeated Supratherapeutic Ingestion (RSI)</p>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а<ul class="list-disc list-inside text-sm label-text">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <li>> 6 р╕Бр╕гр╕▒р╕б/24р╕Кр╕б. р╕лр╕гр╕╖р╕н > 150 mg/kg/24р╕Кр╕б. (р╕Хр╕┤р╕Фр╕Хр╣Ир╕нр╕Бр╕▒р╕Щр╕нр╕вр╣Ир╕▓р╕Зр╕Щр╣Йр╕нр╕в 2 р╕зр╕▒р╕Щ)</li>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а </ul>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а </div>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а </div>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а </div>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а<div>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <h3 class="font-bold text-lg text-blue-600 mb-2">р╣Бр╕Щр╕зр╕Чр╕▓р╕Зр╕Бр╕▓р╕гр╣Гр╕лр╣Й Activated Charcoal</h3>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <div class="space-y-2">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <p class="font-semibold">р╕Вр╕Щр╕▓р╕Ф: 1 g/kg (р╕кр╕╣р╕Зр╕кр╕╕р╕Ф 50 g)</p>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <ul class="list-disc list-inside text-sm label-text">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <li>р╕Юр╕┤р╕Ир╕▓р╕гр╕Ур╕▓р╣Гр╕лр╣Йр╕лр╕▓р╕Бр╕Ьр╕╣р╣Йр╕Ыр╣Ир╕зр╕вр╕бр╕▓р╕Цр╕╢р╕З р╕гр╕Ю. <strong>р╕ар╕▓р╕вр╣Гр╕Щ 4 р╕Кр╕▒р╣Ир╕зр╣Вр╕бр╕З</strong> р╕лр╕ер╕▒р╕Зр╣Др╕Фр╣Йр╕гр╕▒р╕Ър╕вр╕▓ (Immediate-Release)</li>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а<li>р╕нр╕▓р╕Ир╕Юр╕┤р╕Ир╕▓р╕гр╕Ур╕▓р╣Гр╕лр╣Й <strong>р╕лр╕ер╕▒р╕З 4 р╕Кр╕▒р╣Ир╕зр╣Вр╕бр╕З</strong> р╣Др╕Фр╣Йр╣Гр╕Щр╕Бр╕гр╕Ур╕╡р╕вр╕▓ Extended-Release р╕лр╕гр╕╖р╕нр╕Бр╕┤р╕Щр╕гр╣Ир╕зр╕бр╕Бр╕▒р╕Ър╕вр╕▓р╕нр╕╖р╣Ир╕Щр╕Чр╕╡р╣Ир╕Кр╕░р╕ер╕нр╕Бр╕▓р╕гр╕Фр╕╣р╕Фр╕Лр╕╢р╕б (р╣Ар╕Кр╣Ир╕Щ Opioids, Anticholinergics)</li>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а </ul>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а </div>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а </div>
┬а ┬а ┬а ┬а ┬а ┬а </div>
┬а ┬а ┬а ┬а </div>
┬а ┬а ┬а ┬а 
┬а ┬а ┬а ┬а <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
┬а ┬а ┬а ┬а ┬а ┬а <div class="card rounded-lg p-6">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <h2 class="text-2xl font-bold mb-4 border-b border-gray-200 pb-2">3. Modified Rumack-Matthew Nomogram</h2>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 mb-4">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <div>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <label for="time-since-ingestion" class="block text-sm font-medium label-text">р╣Ар╕зр╕ер╕▓р╕лр╕ер╕▒р╕Зр╣Др╕Фр╣Йр╕гр╕▒р╕Ър╕вр╕▓ (р╕Кр╕б.)</label>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <input type="number" id="time-since-ingestion" placeholder="4-24" class="w-full mt-1 rounded-md p-2">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а </div>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <div>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <label for="apap-level" class="block text-sm font-medium label-text">р╕гр╕░р╕Фр╕▒р╕Ър╕вр╕▓ APAP (┬╡g/mL)</label>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <input type="number" id="apap-level" placeholder="р╣Ар╕Кр╣Ир╕Щ 150" class="w-full mt-1 rounded-md p-2">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а </div>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <button id="plot-button" class="btn font-bold rounded-md sm:self-end h-10">Plot Point</button>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а </div>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <div id="plot-result" class="text-center font-semibold text-lg p-2 min-h-[40px]"></div>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <div class="relative h-96 w-full">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <canvas id="nomogramChart"></canvas>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а </div>
┬а ┬а ┬а ┬а ┬а ┬а </div>

┬а ┬а ┬а ┬а ┬а ┬а <div class="card rounded-lg p-6">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <h2 class="text-2xl font-bold mb-4 border-b border-gray-200 pb-2">4. р╕Др╕│р╕Щр╕зр╕Ур╕Вр╕Щр╕▓р╕Фр╕вр╕▓ Acetylcysteine (IV NAC)</h2>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <div class="flex items-end gap-4 mb-4">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <div class="flex-grow">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <label for="patient-weight-section4" class="block text-sm font-medium label-text">р╕Щр╣Йр╕│р╕лр╕Щр╕▒р╕Бр╕Ьр╕╣р╣Йр╕Ыр╣Ир╕зр╕в (kg)</label>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <input type="number" id="patient-weight-section4" placeholder="р╣Ар╕Кр╣Ир╕Щ 60" class="w-full mt-1 rounded-md p-2">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а </div>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <button id="calculate-nac" class="btn font-bold rounded-md h-10 px-6">р╕Др╕│р╕Щр╕зр╕У</button>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а </div>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <div id="nac-result" class="space-y-3">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а </div>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <div>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <h3 class="font-bold text-lg text-emerald-600 mb-2">р╣Ар╕Бр╕Ур╕Ср╣Мр╕Бр╕▓р╕гр╕лр╕вр╕╕р╕Фр╕вр╕▓ NAC</h3>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <p class="text-sm mb-2">(р╕Хр╣Йр╕нр╕Зр╣Ар╕Вр╣Йр╕▓р╣Др╕Фр╣Йр╕Чр╕╕р╕Бр╕Вр╣Йр╕н)</p>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <ul class="list-disc list-inside space-y-1 label-text">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <li>р╕гр╕░р╕Фр╕▒р╕Ър╕вр╕▓ Acetaminophen &lt; 10 ┬╡g/mL</li>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <li>INR &lt; 2.0</li>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <li>AST/ALT р╕Ыр╕Бр╕Хр╕┤ р╕лр╕гр╕╖р╕нр╕ер╕Фр╕ер╕З &gt;25-50% р╕Ир╕▓р╕Бр╕Др╣Ир╕▓р╕кр╕╣р╕Зр╕кр╕╕р╕Ф</li>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <li>р╕Ьр╕╣р╣Йр╕Ыр╣Ир╕зр╕вр╕нр╕▓р╕Бр╕▓р╕гр╕Чр╕▓р╕Зр╕Др╕ер╕┤р╕Щр╕┤р╕Бр╕Фр╕╡р╕Вр╕╢р╣Йр╕Щ</li>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а </ul>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а </div>
┬а ┬а ┬а ┬а ┬а ┬а </div>
┬а ┬а ┬а ┬а </div>
┬а ┬а ┬а ┬а 
┬а ┬а ┬а ┬а <div class="card rounded-lg p-6">
┬а ┬а ┬а ┬а ┬а ┬а <h2 class="text-2xl font-bold mb-4 border-b border-gray-200 pb-2">5. р╣Ар╕Бр╕Ур╕Ср╣Мр╕Бр╕▓р╕гр╕Юр╕┤р╕Ир╕▓р╕гр╕Ур╕▓р╕Юр╕┤р╣Ар╕ир╕й</h2>
┬а ┬а ┬а ┬а ┬а ┬а <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <div>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <h3 class="font-bold text-lg text-sky-600 mb-2">р╕Бр╕▓р╕гр╕Юр╕┤р╕Ир╕▓р╕гр╕Ур╕▓р╕Яр╕нр╕Бр╣Др╕Х (Hemodialysis)</h3>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а<ul class="list-disc list-inside space-y-1 label-text">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <li>р╕гр╕░р╕Фр╕▒р╕Ър╕вр╕▓ Acetaminophen р╕кр╕╣р╕Зр╕бр╕▓р╕Б (тЙе 900 ┬╡g/mL)</li>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <li>р╕бр╕╡р╕ар╕▓р╕зр╕░р╣Ар╕ер╕╖р╕нр╕Фр╣Ар╕Ыр╣Зр╕Щр╕Бр╕гр╕Ф (Acidosis) р╕гр╕╕р╕Щр╣Бр╕гр╕З</li>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <li>р╕бр╕╡р╕Бр╕▓р╕гр╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╣Бр╕Ыр╕ер╕Зр╕Вр╕нр╕Зр╕гр╕░р╕Фр╕▒р╕Ър╕Др╕зр╕▓р╕бр╕гр╕╣р╣Йр╕кр╕╢р╕Бр╕Хр╕▒р╕зр╕Ир╕▓р╕Б toxic paracetamol (Altered consciousness)</li>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <li class="mt-2 pt-2 border-t border-gray-200"><strong>р╕Бр╕▓р╕гр╣Гр╕лр╣Й NAC р╕гр╕░р╕лр╕зр╣Ир╕▓р╕Зр╕Яр╕нр╕Бр╣Др╕Х:</strong> р╣Ар╕Юр╕┤р╣Ир╕бр╕нр╕▒р╕Хр╕гр╕▓р╣Ар╕гр╣Зр╕зр╣Ар╕Ыр╣Зр╕Щр╕нр╕вр╣Ир╕▓р╕Зр╕Щр╣Йр╕нр╕в 12.5 mg/kg/hr</li>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а </ul>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а </div>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <div>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <h3 class="font-bold text-lg text-red-600 mb-2">р╕Бр╕▓р╕гр╕Юр╕┤р╕Ир╕▓р╕гр╕Ур╕▓р╕Ыр╕ер╕╣р╕Бр╕Цр╣Ир╕▓р╕вр╕Хр╕▒р╕Ъ (King's College)</h3>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <p class="text-sm mb-2">р╕Ыр╕гр╕╢р╕Бр╕йр╕▓р╕Чр╕╡р╕бр╕Ыр╕ер╕╣р╕Бр╕Цр╣Ир╕▓р╕вр╕Хр╕▒р╕Ър╕лр╕▓р╕Бр╣Ар╕Вр╣Йр╕▓р╣Др╕Фр╣Йр╕Бр╕▒р╕Ър╣Ар╕Бр╕Ур╕Ср╣Мр╕Вр╣Йр╕нр╣Гр╕Фр╕Вр╣Йр╕нр╕лр╕Щр╕╢р╣Ир╕З</p>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <ul class="list-disc list-inside space-y-1 label-text">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а<li><strong>Lactate &gt; 3.0 mmol/L</strong> (р╕лр╕ер╕▒р╕Зр╣Гр╕лр╣Йр╕кр╕▓р╕гр╕Щр╣Йр╕│р╣Ар╕Хр╣Зр╕бр╕Чр╕╡р╣И)</li>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <li>Arterial pH &lt; 7.30 (р╕лр╕ер╕▒р╕Зр╣Гр╕лр╣Йр╕кр╕▓р╕гр╕Щр╣Йр╕│р╣Ар╕Хр╣Зр╕бр╕Чр╕╡р╣И)</li>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <li class="font-semibold">р╕лр╕гр╕╖р╕нр╕бр╕╡ 3 р╕Вр╣Йр╕нр╕Хр╣Ир╕нр╣Др╕Ыр╕Щр╕╡р╣Йр╕гр╣Ир╕зр╕бр╕Бр╕▒р╕Щ:</li>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а<ul class="list-['-_'] ml-6">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <li>Prothrombin time &gt; 100s (INR &gt; 6.5)</li>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <li>Serum creatinine &gt; 3.4 mg/dL</li>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <li>Grade III-IV hepatic encephalopathy</li>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а</ul>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а </ul>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а </div>
┬а ┬а ┬а ┬а ┬а ┬а </div>
┬а ┬а ┬а ┬а </div>

┬а ┬а ┬а ┬а <div class="card rounded-lg p-6">
┬а ┬а ┬а ┬а ┬а ┬а <h2 class="text-2xl font-bold mb-4 border-b border-gray-200 pb-2">6. р╕Бр╕▓р╕гр╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕Ьр╕ер╕Вр╣Йр╕▓р╕Зр╣Ар╕Др╕╡р╕вр╕Зр╕Ир╕▓р╕Бр╕вр╕▓ NAC</h2>
┬а ┬а ┬а ┬а ┬а ┬а <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <div class="result-box p-4 rounded-md border-yellow-500">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <h4 class="font-bold text-lg">Flushing (р╕лр╕Щр╣Йр╕▓р╣Бр╕Фр╕З)</h4>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <p class="text-sm">р╕Ыр╕гр╕░р╣Ар╕бр╕┤р╕Щр╕Др╕зр╕▓р╕бр╕Ир╕│р╣Ар╕Ыр╣Зр╕Щр╣Гр╕Щр╕Бр╕▓р╕гр╣Гр╕лр╣Йр╕вр╕▓р╕Хр╣Ир╕н р╕лр╕▓р╕Бр╕Ир╕│р╣Ар╕Ыр╣Зр╕Щр╣Гр╕лр╣Йр╕Хр╣Ир╕нр╣Др╕Фр╣Йр╣Вр╕Фр╕вр╣Др╕бр╣Ир╕Хр╣Йр╕нр╕Зр╕лр╕вр╕╕р╕Фр╕вр╕▓</p>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а </div>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а<div class="result-box p-4 rounded-md border-orange-500">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <h4 class="font-bold text-lg">Urticaria (р╕Ьр╕╖р╣Ир╕Щр╕ер╕бр╕Юр╕┤р╕й)</h4>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <p class="text-sm">р╣Гр╕лр╣Йр╕вр╕▓ Diphenhydramine 1 mg/kg IV (max 50 mg) р╣Бр╕ер╕░р╣Гр╕лр╣Й NAC р╕Хр╣Ир╕нр╣Др╕Фр╣Й</p>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а </div>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а<div class="result-box p-4 rounded-md border-red-500">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <h4 class="font-bold text-lg">Angioedema (р╕нр╕▓р╕Бр╕▓р╕гр╕Ър╕зр╕б)</h4>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <p class="text-sm">р╕лр╕вр╕╕р╕Фр╕вр╕▓ NAC р╕Чр╕▒р╕Щр╕Чр╕╡, р╣Гр╕лр╣Й Diphenhydramine. р╕лр╕▓р╕Бр╕нр╕▓р╕Бр╕▓р╕гр╕Фр╕╡р╕Вр╕╢р╣Йр╕Щр╣Гр╕Щ 1 р╕Кр╕б. р╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Ар╕гр╕┤р╣Ир╕бр╕вр╕▓р╣Гр╕лр╕бр╣Ир╣Др╕Фр╣Й</p>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а </div>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а<div class="result-box p-4 rounded-md border-red-700">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <h4 class="font-bold text-lg">Anaphylaxis / Hypotension</h4>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <p class="text-sm">р╕лр╕вр╕╕р╕Фр╕вр╕▓ NAC р╕Чр╕▒р╕Щр╕Чр╕╡, р╕гр╕▒р╕Бр╕йр╕▓р╕Хр╕▓р╕бр╣Бр╕Щр╕зр╕Чр╕▓р╕З Anaphylaxis. р╕лр╕▓р╕Бр╕Ир╕│р╣Ар╕Ыр╣Зр╕Щр╕Хр╣Йр╕нр╕Зр╣Гр╕лр╣Йр╕вр╕▓р╕Хр╣Ир╕н р╣Гр╕лр╣Йр╣Ар╕гр╕┤р╣Ир╕бр╣Гр╕лр╕бр╣Ир╣Гр╕Щр╕нр╕▒р╕Хр╕гр╕▓р╕Чр╕╡р╣Ир╕Кр╣Йр╕▓р╕ер╕Зр╣Бр╕ер╕░р╕Ыр╕гр╕╢р╕Бр╕йр╕▓р╕Ьр╕╣р╣Йр╣Ар╕Кр╕╡р╣Ир╕вр╕зр╕Кр╕▓р╕Н</p>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а </div>
┬а ┬а ┬а ┬а ┬а ┬а </div>
┬а ┬а ┬а ┬а </div>

┬а ┬а </div>

┬а ┬а <script>
┬а ┬а ┬а ┬а document.addEventListener('DOMContentLoaded', () => {
┬а ┬а ┬а ┬а ┬а ┬а const scenarioSelect = document.getElementById('scenario');
┬а ┬а ┬а ┬а ┬а ┬а const patientAge = document.getElementById('patient-age');
┬а ┬а ┬а ┬а ┬а ┬а const patientWeight1 = document.getElementById('patient-weight-section1');
┬а ┬а ┬а ┬а ┬а ┬а const initialTime = document.getElementById('initial-time');
┬а ┬а ┬а ┬а ┬а ┬а const dosePerPill = document.getElementById('dose-per-pill');
┬а ┬а ┬а ┬а ┬а ┬а const numberOfPills = document.getElementById('number-of-pills');
┬а ┬а ┬а ┬а ┬а ┬а const toxicDoseResult = document.getElementById('toxic-dose-result');
┬а ┬а ┬а ┬а ┬а ┬а const scenarioAdvice = document.getElementById('scenario-advice');
┬а ┬а ┬а ┬а ┬а ┬а 
┬а ┬а ┬а ┬а ┬а ┬а const timeInputNomogram = document.getElementById('time-since-ingestion');
┬а ┬а ┬а ┬а ┬а ┬а const levelInputNomogram = document.getElementById('apap-level');
┬а ┬а ┬а ┬а ┬а ┬а const plotButton = document.getElementById('plot-button');
┬а ┬а ┬а ┬а ┬а ┬а const plotResult = document.getElementById('plot-result');

┬а ┬а ┬а ┬а ┬а ┬а const patientWeight4 = document.getElementById('patient-weight-section4');
┬а ┬а ┬а ┬а ┬а ┬а const calculateNacButton = document.getElementById('calculate-nac');
┬а ┬а ┬а ┬а ┬а ┬а const nacResultDiv = document.getElementById('nac-result');

┬а ┬а ┬а ┬а ┬а ┬а const scenarioAdviceData = {
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а 'acute': `
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <p class="text-sm label-text"><strong>р╕Др╕│р╣Бр╕Щр╕░р╕Щр╕│:</strong></p>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <ul class="list-disc list-inside mt-2 text-sm label-text">
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <li>р╕Юр╕┤р╕Ир╕▓р╕гр╕Ур╕▓р╣Гр╕лр╣Й Activated charcoal (SDAC) р╕лр╕▓р╕Бр╣Др╕Фр╣Йр╕гр╕▒р╕Ър╕вр╕▓р╕бр╕▓р╣Др╕бр╣Ир╣Ар╕Бр╕┤р╕Щ 4 р╕Кр╕▒р╣Ир╕зр╣Вр╕бр╕Зр╕лр╕ер╕▒р╕Зр╕Бр╕┤р╕Щр╕вр╕▓</li>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <li>р╕Др╕зр╕гр╣Ар╕гр╕┤р╣Ир╕бр╣Гр╕лр╣Йр╕вр╕▓ acetylcysteine (NAC) р╣Гр╕Щр╕Вр╕Ур╕░р╕гр╕нр╕Ьр╕ер╕лр╕▓р╕Бр╕Бр╕┤р╕Щр╕вр╕▓ тЙе30 р╕Бр╕гр╕▒р╕б р╕лр╕гр╕╖р╕нр╕лр╕▓р╕Бр╕Ир╕░р╕Чр╕гр╕▓р╕Ър╕гр╕░р╕Фр╕▒р╕Ър╕вр╕▓р╕лр╕ер╕▒р╕З 8 р╕Кр╕▒р╣Ир╕зр╣Вр╕бр╕Зр╣Др╕Ыр╣Бр╕ер╣Йр╕з</li>
┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а ┬а <li>р╣Ар╕Ир╕▓р╕░р╣Ар╕ер╕╖р╕нр╕Фр╕Хр╕гр╕зр╕Ир╕гр╕░р╕Фр╕▒р╕Ър╕вр╕▓ acetaminophen р╣Гр╕Щр╕Кр╣Ир╕зр╕З 4-24 р╕Кр╕▒р╣Ир╕зр╣Вр╕бр╕Зр╕лр╕ер╕▒р╕Зр╕Бр╕┤р╕Щр╕вр╕▓ р╣Бр╕ер╣Йр╕зр╕Щр╕│р╕бр╕▓ Plot р╕Ър╕Щ Nomogram р╣Ар╕Юр╕╖р╣Ир╕нр╕Ыр╕гр╕░р╣Ар╕бр╕┤р╕Щ</li>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const scenarioSelect = document.getElementById('scenario');
            const patientAge = document.getElementById('patient-age');
            const patientWeight1 = document.getElementById('patient-weight-section1');
            const initialTime = document.getElementById('initial-time');
            const dosePerPill = document.getElementById('dose-per-pill');
            const numberOfPills = document.getElementById('number-of-pills');
            const toxicDoseResult = document.getElementById('toxic-dose-result');
            const scenarioAdvice = document.getElementById('scenario-advice');
            
            const timeInputNomogram = document.getElementById('time-since-ingestion');
            const levelInputNomogram = document.getElementById('apap-level');
            const plotButton = document.getElementById('plot-button');
            const plotResult = document.getElementById('plot-result');

            const patientWeight4 = document.getElementById('patient-weight-section4');
            const calculateNacButton = document.getElementById('calculate-nac');
            const nacResultDiv = document.getElementById('nac-result');

            // р╣Бр╕Бр╣Йр╣Др╕Вр╕кр╣Ир╕зр╕Щр╕Щр╕╡р╣Йр╣Гр╕лр╣Йр╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕Зр╕Хр╕▓р╕бр╕лр╕ер╕▒р╕Бр╕Бр╕▓р╕гр╕Вр╕нр╕З JavaScript Objects
        const scenarioAdviceData = {
            'acute': `
                <p class="text-sm label-text"><strong>р╕Др╕│р╣Бр╕Щр╕░р╕Щр╕│:</strong></p>
                <ul class="list-disc list-inside mt-2 text-sm label-text">
                    <li>р╕Юр╕┤р╕Ир╕▓р╕гр╕Ур╕▓р╣Гр╕лр╣Й Activated charcoal (SDAC) р╕лр╕▓р╕Бр╣Др╕Фр╣Йр╕гр╕▒р╕Ър╕вр╕▓р╕бр╕▓р╣Др╕бр╣Ир╣Ар╕Бр╕┤р╕Щ 4 р╕Кр╕▒р╣Ир╕зр╣Вр╕бр╕Зр╕лр╕ер╕▒р╕Зр╕Бр╕┤р╕Щр╕вр╕▓</li>
                    <li>р╕Др╕зр╕гр╣Ар╕гр╕┤р╣Ир╕бр╣Гр╕лр╣Йр╕вр╕▓ acetylcysteine (NAC) р╣Гр╕Щр╕Вр╕Ур╕░р╕гр╕нр╕Ьр╕ер╕лр╕▓р╕Бр╕Бр╕┤р╕Щр╕вр╕▓ тЙе30 р╕Бр╕гр╕▒р╕б р╕лр╕гр╕╖р╕нр╕лр╕▓р╕Бр╕Ир╕░р╕Чр╕гр╕▓р╕Ър╕гр╕░р╕Фр╕▒р╕Ър╕вр╕▓р╕лр╕ер╕▒р╕З 8 р╕Кр╕▒р╣Ир╕зр╣Вр╕бр╕Зр╣Др╕Ыр╣Бр╕ер╣Йр╕з</li>
                    <li>р╣Ар╕Ир╕▓р╕░р╣Ар╕ер╕╖р╕нр╕Фр╕Хр╕гр╕зр╕Ир╕гр╕░р╕Фр╕▒р╕Ър╕вр╕▓ acetaminophen р╣Гр╕Щр╕Кр╣Ир╕зр╕З 4-24 р╕Кр╕▒р╣Ир╕зр╣Вр╕бр╕Зр╕лр╕ер╕▒р╕Зр╕Бр╕┤р╕Щр╕вр╕▓ р╣Бр╕ер╣Йр╕зр╕Щр╕│р╕бр╕▓ Plot р╕Ър╕Щ Nomogram р╣Ар╕Юр╕╖р╣Ир╕нр╕Ыр╕гр╕░р╣Ар╕бр╕┤р╕Щ</li>
                </ul>
            `,
            'unknown': `
                <p class="text-sm label-text"><strong>р╕Др╕│р╣Бр╕Щр╕░р╕Щр╕│:</strong></p>
                <ul class="list-disc list-inside mt-2 text-sm label-text">
                    <li>р╣Ар╕Ир╕▓р╕░р╣Ар╕ер╕╖р╕нр╕Фр╕Хр╕гр╕зр╕Ир╕гр╕░р╕Фр╕▒р╕Ър╕вр╕▓ Acetaminophen р╣Бр╕ер╕░р╕Др╣Ир╕▓ AST/ALT р╕Чр╕▒р╕Щр╕Чр╕╡</li>
                    <li><strong>р╕лр╕▓р╕Бр╕гр╕░р╕Фр╕▒р╕Ър╕вр╕▓ > 10 ╬╝g/mL р╕лр╕гр╕╖р╕н AST/ALT р╕Ьр╕┤р╕Фр╕Ыр╕Бр╕Хр╕┤:</strong> р╣Гр╕лр╣Йр╕гр╕▒р╕Бр╕йр╕▓р╕Фр╣Йр╕зр╕в NAC</li>
                    <li><strong>р╕лр╕▓р╕Бр╕гр╕░р╕Фр╕▒р╕Ър╕вр╕▓ тЙд 10 ╬╝g/mL р╣Бр╕ер╕░ AST/ALT р╕Ыр╕Бр╕Хр╕┤:</strong> р╣Др╕бр╣Ир╕Хр╣Йр╕нр╕Зр╣Гр╕лр╣Й NAC</li>
                </ul>
            `,
            'repeated': `
                <p class="text-sm label-text"><strong>р╕Др╕│р╣Бр╕Щр╕░р╕Щр╕│:</strong></p>
                <ul class="list-disc list-inside mt-2 text-sm label-text">
                    <li>р╣Др╕бр╣Ир╣Бр╕Щр╕░р╕Щр╕│р╕Бр╕▓р╕гр╕ер╣Йр╕▓р╕Зр╕Чр╣Йр╕нр╕Зр╕Фр╣Йр╕зр╕в SDAC</li>
                    <li>р╣Ар╕Ир╕▓р╕░р╣Ар╕ер╕╖р╕нр╕Фр╕Хр╕гр╕зр╕Ир╕гр╕░р╕Фр╕▒р╕Ър╕вр╕▓ Acetaminophen, AST/ALT, р╣Бр╕ер╕░ Creatinine</li>
                    <li><strong>р╕лр╕▓р╕Бр╕гр╕░р╕Фр╕▒р╕Ър╕вр╕▓ тЙе 20 ╬╝g/mL р╕лр╕гр╕╖р╕н AST/ALT р╕Ьр╕┤р╕Фр╕Ыр╕Бр╕Хр╕┤:</strong> р╣Гр╕лр╣Йр╕гр╕▒р╕Бр╕йр╕▓р╕Фр╣Йр╕зр╕в NAC</li>
                    <li><strong>р╕лр╕▓р╕Бр╕гр╕░р╕Фр╕▒р╕Ър╕вр╕▓ < 20 ╬╝g/mL р╣Бр╕ер╕░ AST/ALT р╕Ыр╕Бр╕Хр╕┤:</strong> р╣Др╕бр╣Ир╕Хр╣Йр╕нр╕Зр╣Гр╕лр╣Й NAC</li>
                </ul>
            `,
            'extended': `
                <p class="text-sm label-text"><strong>р╕Др╕│р╣Бр╕Щр╕░р╕Щр╕│:</strong></p>
                <ul class="list-disc list-inside mt-2 text-sm label-text">
                    <li>р╕Бр╕▓р╕гр╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╣Ар╕Ър╕╖р╣Йр╕нр╕Зр╕Хр╣Йр╕Щр╣Ар╕лр╕бр╕╖р╕нр╕Щр╕Бр╕▒р╕Ър╕вр╕▓р╕нр╕нр╕Бр╕др╕Чр╕Шр╕┤р╣Мр╕Чр╕▒р╕Щр╕Чр╕╡</li>
                    <li>р╕нр╕▓р╕Ир╕Юр╕┤р╕Ир╕▓р╕гр╕Ур╕▓р╣Гр╕лр╣Й Activated charcoal (SDAC) р╕лр╕▓р╕Бр╣Др╕Фр╣Йр╕гр╕▒р╕Ър╕вр╕▓р╕бр╕▓р╕Щр╕▓р╕Щр╕Бр╕зр╣Ир╕▓ 4 р╕Кр╕▒р╣Ир╕зр╣Вр╕бр╕З р╕лр╕▓р╕Бр╕бр╕╡р╕лр╕ер╕▒р╕Бр╕Рр╕▓р╕Щр╕Ър╣Ир╕Зр╕Кр╕╡р╣Йр╕зр╣Ир╕▓р╕вр╕▒р╕Зр╕бр╕╡р╕Бр╕▓р╕гр╕Фр╕╣р╕Фр╕Лр╕╢р╕бр╕вр╕▓р╕нр╕вр╕╣р╣И (р╣Ар╕Кр╣Ир╕Щ р╕гр╕░р╕Фр╕▒р╕Ър╕вр╕▓р╕Чр╕╡р╣Ир╣Ар╕Юр╕┤р╣Ир╕бр╕Вр╕╢р╣Йр╕Щ)</li>
                    <li>р╕лр╕▓р╕Бр╕гр╕░р╕Фр╕▒р╕Ър╕вр╕▓р╕Чр╕╡р╣Ир╣Ар╕Ир╕▓р╕░р╕Кр╣Ир╕зр╕З 4-12 р╕Кр╕▒р╣Ир╕зр╣Вр╕бр╕Зр╕лр╕ер╕▒р╕Зр╕Бр╕┤р╕Щр╕вр╕▓ р╕бр╕╡р╕Др╣Ир╕▓р╕Хр╣Ир╕│р╕Бр╕зр╣Ир╕▓р╣Ар╕кр╣Йр╕Щр╕гр╕▒р╕Бр╕йр╕▓р╣Бр╕Хр╣И > 10 ╬╝g/mL р╣Гр╕лр╣Йр╣Ар╕Ир╕▓р╕░р╕Лр╣Йр╕│р╣Гр╕Щ 4-6 р╕Кр╕▒р╣Ир╕зр╣Вр╕бр╕Зр╕Цр╕▒р╕Фр╣Др╕Ы</li>
                </ul>
            `
        };
        scenarioAdvice.innerHTML = scenarioAdviceData['acute'];
        // р╣Ар╕Юр╕┤р╣Ир╕б Event Listener р╣Ар╕Юр╕╖р╣Ир╕нр╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕Бр╕▓р╕гр╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╣Бр╕Ыр╕ер╕Зр╕Вр╕нр╕З Dropdown
        scenarioSelect.addEventListener('change', (event) => {
            const selectedScenario = event.target.value;
            scenarioAdvice.innerHTML = scenarioAdviceData[selectedScenario] || 'р╣Ар╕ер╕╖р╕нр╕Бр╕кр╕Цр╕▓р╕Щр╕Бр╕▓р╕гр╕Ур╣Мр╣Ар╕Юр╕╖р╣Ир╕нр╕Фр╕╣р╕Др╕│р╣Бр╕Щр╕░р╕Щр╕│';
        });
            
            const calculateToxicDose = () => {
                const weight = parseFloat(patientWeight1.value);
                const age = parseFloat(patientAge.value);
                const dose = parseFloat(dosePerPill.value);
                const pills = parseFloat(numberOfPills.value);

                if (isNaN(weight) || isNaN(dose) || isNaN(pills) || isNaN(age) || weight <= 0) {
                    toxicDoseResult.innerHTML = '';
                    return;
                }

                const totalDoseMg = dose * pills;
                const totalDoseG = totalDoseMg / 1000;
                const dosePerKg = totalDoseMg / weight;

                let toxicThreshold;
                if (age >= 6) {
                    toxicThreshold = 200; // mg/kg for adults and children >= 6 years
                } else {
                    toxicThreshold = 200; // mg/kg for children < 6 years
                }

                let resultHtml = `<div class="result-box p-4 rounded-md mt-4">`;
                resultHtml += `<h3 class="font-bold text-lg mb-2">р╕Ьр╕ер╕Бр╕▓р╕гр╕Ыр╕гр╕░р╣Ар╕бр╕┤р╕Щ Toxic Dose:</h3>`;
                resultHtml += `<p>р╕Ыр╕гр╕┤р╕бр╕▓р╕Ур╕вр╕▓р╕Чр╕╡р╣Ир╣Др╕Фр╣Йр╕гр╕▒р╕Ър╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф: **${totalDoseMg.toLocaleString()} mg** (${totalDoseG.toFixed(1)} р╕Бр╕гр╕▒р╕б)</p>`;
                resultHtml += `<p>р╕Ыр╕гр╕┤р╕бр╕▓р╕Ур╕вр╕▓р╕Хр╣Ир╕нр╕Бр╕┤р╣Вр╕ер╕Бр╕гр╕▒р╕б: **${dosePerKg.toFixed(1)} mg/kg**</p>`;

                if (dosePerKg >= toxicThreshold || totalDoseG >= 10) {
                    resultHtml += `<p class="mt-2 text-red-600 font-semibold">ЁЯЪи р╣Ар╕Бр╕┤р╕Щр╣Ар╕Бр╕Ур╕Ср╣М Toxic Dose (${toxicThreshold} mg/kg р╕лр╕гр╕╖р╕н > 10 р╕Бр╕гр╕▒р╕б)</p>`;
                } else {
                    resultHtml += `<p class="mt-2 text-green-600 font-semibold">тЬЕ р╣Др╕бр╣Ир╣Ар╕Бр╕┤р╕Щр╣Ар╕Бр╕Ур╕Ср╣М Toxic Dose</p>`;
                }
                resultHtml += `</div>`;
                toxicDoseResult.innerHTML = resultHtml;
            };

            patientWeight1.addEventListener('input', () => {
                patientWeight4.value = patientWeight1.value;
                calculateToxicDose();
            });
            patientAge.addEventListener('input', calculateToxicDose);
            dosePerPill.addEventListener('input', calculateToxicDose);
            numberOfPills.addEventListener('input', calculateToxicDose);

            initialTime.addEventListener('input', () => {
                timeInputNomogram.value = initialTime.value;
            });

            const ctx = document.getElementById('nomogramChart').getContext('2d');
            
            const k_treat = Math.log(150/5) / 20;
            const A_treat = 150 / Math.exp(-k_treat * 4);
            const treatmentLineData = Array.from({length: 21}, (_, i) => ({x: i + 4, y: A_treat * Math.exp(-k_treat * (i+4))}));

            const k_risk = Math.log(300/10) / 20;
            const A_risk = 300 / Math.exp(-k_risk * 4);
            const highRiskLineData = Array.from({length: 21}, (_, i) => ({x: i + 4, y: A_risk * Math.exp(-k_risk * (i+4))}));
            
            const nomogramChart = new Chart(ctx, {
                type: 'scatter',
                data: {
                    datasets: [{
                        label: 'Treatment Line',
                        data: treatmentLineData,
                        borderColor: '#10b981',
                        backgroundColor: 'transparent',
                        borderWidth: 2,
                        pointRadius: 0,
                        showLine: true,
                        fill: false,
                    }, {
                        label: 'High-Risk Line',
                        data: highRiskLineData,
                        borderColor: '#ef4444',
                        backgroundColor: 'transparent',
                        borderWidth: 2,
                        borderDash: [5, 5],
                        pointRadius: 0,
                        showLine: true,
                        fill: false,
                    }, {
                        label: 'Patient Level',
                        data: [],
                        backgroundColor: '#3b82f6',
                        pointRadius: 8,
                        pointHoverRadius: 10
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: {
                            type: 'linear',
                            position: 'bottom',
                            title: { display: true, text: 'Time Since Ingestion (hours)', color: '#4b5563' },
                            min: 0,
                            max: 28,
                            ticks: {
                                color: '#6b7280',
                                stepSize: 4,
                                callback: function(value) {
                                    if ([4, 8, 12, 16, 20, 24].includes(value)) {
                                        return `${value}р╕Кр╕б.`;
                                    }
                                    return '';
                                }
                            },
                            grid: {
                                color: (context) => {
                                    const value = context.tick.value;
                                    if ([4, 8, 12, 16, 20, 24].includes(value)) {
                                        return 'rgba(100, 116, 139, 0.5)';
                                    }
                                    return 'transparent';
                                }
                            }
                        },
                        y: {
                            type: 'logarithmic',
                            title: { display: true, text: 'Acetaminophen Concentration (┬╡g/mL)', color: '#4b5563' },
                            min: 1, max: 500,
                            ticks: { color: '#6b7280', callback: (value) => Number(value.toString()) },
                            grid: {
                                color: '#e2e8f0',
                            }
                        }
                    },
                    plugins: {
                        legend: { labels: { color: '#374151' } },
                        tooltip: { callbacks: { label: (c) => `${c.dataset.label}: (${c.parsed.x}h, ${c.parsed.y.toFixed(1)} ┬╡g/mL)` } }
                    },
                    animation: {
                        duration: 0
                    },
                    layout: {
                        padding: {
                            left: 0, right: 0, top: 0, bottom: 0
                        }
                    }
                }
            });
            
            plotButton.addEventListener('click', () => {
                const time = parseFloat(timeInputNomogram.value);
                const level = parseFloat(levelInputNomogram.value);

                if (isNaN(time) || isNaN(level) || time < 4 || time > 24) {
                    plotResult.textContent = 'р╕Бр╕гр╕╕р╕Ур╕▓р╣Гр╕кр╣Ир╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Ар╕зр╕ер╕▓ (4-24 р╕Кр╕б.) р╣Бр╕ер╕░р╕гр╕░р╕Фр╕▒р╕Ър╕вр╕▓р╣Гр╕лр╣Йр╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕З';
                    plotResult.className = 'text-center font-semibold text-lg p-2 text-orange-600';
                    return;
                }
                
                nomogramChart.data.datasets[2].data = [{ x: time, y: level }];
                nomogramChart.update();

                const treatmentLevel = A_treat * Math.exp(-k_treat * time);
                const highRiskLevel = A_risk * Math.exp(-k_risk * time);

                if (level >= highRiskLevel) {
                    plotResult.textContent = 'р╕нр╕вр╕╣р╣Ир╣Ар╕лр╕Щр╕╖р╕нр╣Ар╕кр╣Йр╕Щ High-Risk Line - р╕Юр╕┤р╕Ир╕▓р╕гр╕Ур╕▓р╣Гр╕лр╣Й NAC р╕Вр╕Щр╕▓р╕Фр╕кр╕╣р╕З';
                    plotResult.className = 'text-center font-semibold text-lg p-2 text-red-600';
                } else if (level >= treatmentLevel) {
                    plotResult.textContent = 'р╕нр╕вр╕╣р╣Ир╣Ар╕лр╕Щр╕╖р╕нр╣Ар╕кр╣Йр╕Щ Treatment Line - р╣Бр╕Щр╕░р╕Щр╕│р╣Гр╕лр╣Йр╣Ар╕гр╕┤р╣Ир╕б NAC';
                    plotResult.className = 'text-center font-semibold text-lg p-2 text-amber-600';
                } else {
                    plotResult.textContent = 'р╕нр╕вр╕╣р╣Ир╣Гр╕Хр╣Йр╣Ар╕кр╣Йр╕Щ Treatment Line - р╕вр╕▒р╕Зр╣Др╕бр╣Ир╕Ир╕│р╣Ар╕Ыр╣Зр╕Щр╕Хр╣Йр╕нр╕Зр╣Гр╕лр╣Й NAC';
                    plotResult.className = 'text-center font-semibold text-lg p-2 text-green-600';
                }
            });

            calculateNacButton.addEventListener('click', () => {
                const weight = parseFloat(patientWeight4.value);
                if (isNaN(weight) || weight <= 0) {
                    nacResultDiv.innerHTML = `<p class="text-amber-600">р╕Бр╕гр╕╕р╕Ур╕▓р╣Гр╕кр╣Ир╕Щр╣Йр╕│р╕лр╕Щр╕▒р╕Бр╣Гр╕лр╣Йр╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕З</p>`;
                    return;
                }

                const calculationWeight = Math.min(weight, 100);
                const weightCapped = weight > 100;

                const loadingDoseMg = 150 * calculationWeight;
                const secondDoseMg = 50 * calculationWeight;
                const thirdDoseMg = 100 * calculationWeight;

                const loadingFluid = weight < 21 ? 3 * calculationWeight : (weight < 41 ? 100 : 200);
                const secondFluid = weight < 21 ? 7 * calculationWeight : (weight < 41 ? 250 : 500);
                const thirdFluid = weight < 21 ? 14 * calculationWeight : (weight < 41 ? 500 : 1000);

                nacResultDiv.innerHTML = `
                    ${weightCapped ? `<div class="result-box p-3 rounded-md border-amber-500"><p class="text-amber-600 font-semibold">р╕лр╕бр╕▓р╕вр╣Ар╕лр╕Хр╕╕: р╕Щр╣Йр╕│р╕лр╕Щр╕▒р╕Бр╕Чр╕╡р╣Ир╣Гр╕Кр╣Йр╕Др╕│р╕Щр╕зр╕Ур╕Цр╕╣р╕Бр╕Ир╕│р╕Бр╕▒р╕Фр╣Др╕зр╣Йр╕Чр╕╡р╣И 100 kg</p></div>` : ''}
                    <div class="result-box p-4 rounded-md">
                        <h4 class="font-bold text-lg">Loading Dose (1 р╕Кр╕▒р╣Ир╕зр╣Вр╕бр╕З)</h4>
                        <p>${loadingDoseMg.toFixed(0)} mg NAC in D5W ${loadingFluid} mL, IV drip over 60 minutes</p>
                    </div>
                    <div class="result-box p-4 rounded-md">
                        <h4 class="font-bold text-lg">Second Dose (4 р╕Кр╕▒р╣Ир╕зр╣Вр╕бр╕З)</h4>
                        <p>${secondDoseMg.toFixed(0)} mg NAC in D5W ${secondFluid} mL, IV drip over 4 hours</p>
                    </div>
                    <div class="result-box p-4 rounded-md">
                        <h4 class="font-bold text-lg">Third Dose (16 р╕Кр╕▒р╣Ир╕зр╣Вр╕бр╕З)</h4>
                        <p>${thirdDoseMg.toFixed(0)} mg NAC in D5W ${thirdFluid} mL, IV drip over 16 hours</p>
                    </div>
                `;
            });
        });
    </script>
 <div class="footer text-center text-sm text-gray-500 mt-8">
    &copy; 2025 NTWKKM &nbsp;|&nbsp; Powered by GitHub Pages
  </div>
</body>
</html>
